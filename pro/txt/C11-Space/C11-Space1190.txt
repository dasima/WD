航空工艺技术
AERONAUTICAL MANUFACTURING TECHNOLOGY
1999年　第4期　No.4




智能自治体及其在敏捷制造中的应用
Agent and Its Applications in Agile Manufacturing
蔡元龙　邬学礼
　　［摘要］　介绍了智能自治体及多智能自治体系统(MAS)理论，在分析敏捷制造单元特点的基础上，提出基于MAS的敏捷制造单元框架结构，用协商机制实现了敏捷制造单元的分布式动态调度和控制。
　　关键词： 智能自治体　多智能自治体系统　
敏捷制造
　　［ABSTRACT］　In this paper, Agent and Multi-Agent System(MAS) are introduced, and a MAS_based framework for agile manufacturing cell is presented. The dynamic scheduling and control of agile manufacturing cell is implemented with negotiation in this framework.
　　Keywords: Agent　MAS　Agile manufacturing
1　智能自治体(Agent)发展背景
　　美国M.Minsky教授在其《心智社会》(“The society of Mind”，1985年出版)一书中，提出了Agent这一概念［1～3］，用来描述具有自适应、自治能力的硬件、软件或其他任何自然物、人造物。Agent思想和技术的迅速发展应归功于以下领域的研究进展：
　　(1)分布式人工智能(DAI)。
　　Agent思想可追溯到70年代对分布式人工智能的研究，特别是Carl Hewitt的并行行动者模型［2］。在DAI的研究中，研究人员发现把大型集中式人工智能系统分解为一组小型分布式的模块，不仅使系统易于实现，且由于各模块之间既有独立自主性，又能互相协调合作，因而比集中式系统更具灵活性和健壮性，并有更高的问题求解效率。所以，分布的、具有一定独立性和自治性、能够协调合作的Agent思想和技术得到广泛关注，成为分布式人工智能研究中的热点。
　　(2)信息技术。
　　90年代，人类进入信息时代。一方面，新信息不断涌现，信息的组织和服务方式千差万别，使得异构和分布式的信息环境不断增多；另一方面，人们对信息的需求呈现多样化趋势，对信息的处理和服务方式的要求灵活多变。因而，帮助消费者方便、快速地找出需要的信息，甚至主动地为消费者提供所需的信息，并提出合理使用这些信息的建议，也就是为消费者提供智能信息服务，是对传统信息技术新的挑战。具有较高智能和主动性的Agent思想和技术为这种新的信息需求和信息服务形势提供了理想的解决方案。
　　(3)计算机网络。
　　计算机网络及其技术的迅速发展，为来源于人工智能的Agent技术提供了良好的发展机遇与应用环境。实际上，Agent软件的进展是人工智能在网络技术发展基础上的新成果、新阶段，未来的计算机网络将会是一个多智能自治体系统［1］。多智能自治体技术目前的应用领域(如工作流管理、商业过程重组、电子商务、信息获取、电信网络管理、电子邮件过滤等)大多是基于计算机网络的。Agent技术将为计算机网络的发展提供巨大的技术支持。
2　Agent概念、特点和结构
　　Agent理论和技术无论在学术界还是企业界都得到广泛关注，研究人员对Agent进行了各种各样的描述［2，3］，但到目前为止，仍然没有一个统一的定义。笔者拟归纳为：Agent是一个充分自治的、具有独立决策制定和行为控制能力的软、硬件系统或其他人造系统，能够基于对所处环境的感知和与外界交互所获取的信息，控制自身的决策制定和行为，实现既定目标。目前，对Agent的论述偏重于软件系统方面，但这里并不排除用硬件或其他系统实现的Agent。Agent主要有以下4个特点［2，3］：
　　* 自治(Autonomy)。在没有人参与或干涉的情况下，Agent能独立执行任务，并能在某种程度上控制自己的行为和内部状态。
　　* 社会能力(Social ability)。通过某种或某些通信语言，Agent能与其他Agent系统或人类等外界环境进行智能的、富有建设性的交互，以完成自己的任务或协同其他Agent完成任务，即Agent具有一定的类似于人的社会能力。
　　* 反应性(Responsiveness or Reactivity)。Agent通常处于一定的环境中，这一环境可以是一个物理世界、一个使用图形界面的用户、一个Agent集合或是计算机网络(如Internet)等。Agent能感知所处环境，并对其中的变化和信息及时作出反应。
　　* 主动性(Proactivity)。Agent不仅能对所处环境作出被动的反应，而且可以表现出一定的投机性和由目标引导的行为，在适当的时候可以主动去获取有利于自己的信息和知识，采取合理的行动。
　　图1给出Agent的一种典型结构，主要包含智能信息处理系统、知识库、数据库和通信系统。智能信息处理系统是实现Agent智能行为的核心，具有推理、自学习能力和某些其他能力。知识库包括通讯录(用于与外界的联系)、领域知识、决策方法等知识。数据库包含工作记录、自身状态信息、环境信息等数据。通信系统负责与外界的通信，并将自己的需求和状态信息传递给外界环境。

图1　智能自治体组织结构
Fig.1　Agent structure
3　多智能自治体系统
(Multi-Agent System,MAS)
3.1　MAS的概念和特点
　　MAS是一个包含多个Agent的复杂系统，其中的Agent相互合作完成一项大的任务［4，5］。这种Agent间既独立自主、互相竞争，又协调合作的松散耦合系统为分布式问题提供了理想的求解结构。其主要特点有：
　　* 知识和数据的分布存储。在MAS中，单个Agent仅仅包含特定于本节点的知识和数据，对于一个规模较大的问题的求解往往需要各Agent共同协作来完成。Agent间共享数据和知识，也可以向其他Agent提出服务请求来获取需要的信息。因此，MAS中知识和数据的存储、决策的制定和任务的执行都表现出分布的特点。
　　* 并行处理。各Agent选择有利于自己局部利益的控制策略和决策目标，独立地作出决策，实现自己的目标，任务的执行表现出并行的特点。这种并行处理机制大大提高了问题求解效率。
　　* 健壮性。MAS中Agent的自治性和松散耦合关系，使得其中个别Agent的功能丧失后，不会影响其他Agent的正常行为，也不会给整个MAS的运行造成灾难性后果。同时，还可以通过协商、协调将其局部任务交给其他Agent，不影响总体任务的完成。
　　* 易扩展性。只要配置相应的通信协议和控制策略，以及相应的知识和数据，新的Agent就可以加入MAS中正常运行，原先的系统不需要做任何改动。
　　* 具灵活性，且易于实现。
　　目前，MAS已在分布式人工智能、工作流管理、复杂系统控制、工商业过程重组、调度管理等领域得到广泛研究和应用。
3.2　MAS的主要组织结构
　　如何将多个Agent组织成为一个高效运行、协调合作的有机整体，是MAS组织结构所要研究的重要内容。目前，MAS主要采用以下组织结构形式：
　　(1)黑板控制结构。
　　这种组织结构借用专家系统中的黑板概念，采用全局数据结构作为各Agent了解其他Agent状态以及任务进展情况的桥梁，从而实现各Agent之间的信息交换，协调各Agent的行动和任务处理过程。黑板控制结构是一种集中式的控制和调度方式。
　　(2)合同网协议(Contract net protocol)［4，6］。
　　合同网协议是由美国国家科学基金和DARPA于70年代末共同资助研究，用于分布式问题求解的高级通信和控制协议，是MAS中采用最广泛的控制结构。
　　合同网协议模仿经济行为中的招标-投标-中标机制，采用任务公布的方式，通过Agent相互协商和任务竞争来解决动态、分布的任务分配问题，使用投标值Bids作为Agent之间任务协调和分配的控制变量，从而以最优的系统配置和代价完成特定任务，在局部最优基础上达到全局最优。由于不同Agent间可以共享任务和结果，所以多个Agent可以很容易地通过合作完成一项复杂任务。
4　MAS在敏捷制造单元动态调度和控制中的应用

图2　基于MAS敏捷制造单元控制结构模型
Fig.2　Control structure model of agile manufacturing cell based on MAS

图3　任务Agent与资源Agent之间的任务协商过程
Fig.3　Task negotiation process between Task Agent and Resource Agent
4.1　敏捷制造单元的特点
　　敏捷制造单元是敏捷制造环境下生产组织的基本单位，是一组具有多种加工能力的设备通过计算机网络联结起来的松散耦合、分布自治、协同合作的网络化制造系统，本质上属于分散型控制结构，具有以下特征：
　　(1)单元中的智能节点需要具备独立、自主地作出局部决策的能力。由于制造单元生产过程的复杂性和多变性，实时获取准确的全局状态(生产任务、工艺规划、车间状态、机床状态等)非常困难，中长期计划和调度对生产的指导作用越来越弱，所以局部决策能力十分重要。
　　(2)设备没有主次之分，既没有受控设备，也不存在中央控制器，设备之间呈平等关系。
　　(3)各功能节点大多数时间按照有利于自己的价值准则和控制逻辑工作，只在必要时才与其他节点交互。
　　(4)单元中的设备(或其控制器)可以借助于计算机网络以通信的方式交换信息。
　　(5)单元中的设备能互相协作共同完成一项任务。
　　由于制造单元生产过程和控制结构所具有的分布式特性，对现代制造系统控制结构和控制技术的研究和实施已经由递阶型转向分散型［4，5，7］，而绝大多数研究者采用了在分布式问题求解中得到很多成功应用的MAS体系结构［4，5］。
4.2　基于MAS的敏捷制造单元调度与控制框架结构
　　(1)敏捷制造单元调度与控制框架结构。
　　为减小模型规模，避免不必要的网络通信和节点间协调所引起的处理效率低下，应根据生产控制的需要和制造单元的实际组成情况，将敏捷制造单元的控制结构模型化为MAS。本文提出的用于敏捷制造单元调度与控制的MAS框架结构见图2。
　　图2所示的框架结构包含下列类型的Agent:(1)资源智能自治体(RAgent)。在控制结构中代表敏捷制造单元中的资源。(2)任务管理智能自治体(TMAgent)。统一管理系统中的任务，控制任务Agent进行招投标，并监督任务的执行。(3)任务智能自治体(TAgent)。负责任务招投标，并将结果上报任务管理智能自治体。(4)通信智能自治体(ComAgent)。主要负责与外界的通信，收集其他制造单元或系统的信息，竞争外部加工任务，发送本单元的服务请求，选择任务执行对象等。

图4　敏捷制造单元工作流程
Fig.4　Working flow of agile manufacturing cell
　　　　(2)敏捷制造单元的分布式动态调度与控制。
　　采用基于合同网协议的任务分解和分配方法，由任务节点公布任务情况，各功能节点根据自身生产能力及成本决定投标与否以及标值大小，任务节点根据投标情况将任务授予最优节点，并监督任务的完成情况。资源Agent与任务Agent之间的任务协商过程如图3所示。
　　建立在任务协商和协作基础上的任务分解、分配和完成的敏捷制造单元工作流程如图4所示。
5　结束语
　　本文在介绍智能自治体(Agent)及多智能自治体系统(MAS)的基础上，提出一种基于MAS的用于敏捷制造单元动态调度与控制的框架结构，该结构具有以下优点：
　　* 对求解问题的规模不敏感。通过功能分解，将敏捷制造单元复杂的控制问题分散到各个节点(如每台设备的智能控制器)，单个节点的局部问题规模很小，借助于节点间的协调、合作实现单元的整体控制功能。
　　* 处理效率高。各节点依照自己的控制策略，独立地作出决策，完成自己的生产任务，制造任务的执行表现出并行的特点。这种并行处理机制大大提高了问题求解效率。
　　* 健壮性。敏捷制造单元的任务信息、生产信息以及解决问题的知识分散存储在各处理节点，各节点以松散耦合的形式互相联结，单个节点故障只是引起局部效率的降低或功能的丧失，不会影响其他节点的正常行为，整个制造单元仍然可以维持运转。
　　* 易扩展性。新节点只需配置相应的知识库和数据库，以及相同的通信协议和控制机制，就可以加入系统中运行，不需要修改制造单元的任何其他部分。
作者单位：　北京航空航天大学
参考文献
　［1］　张　钹.网络时代的人工智能.计算机世界，1997(1)
　［2］　NWANA H S. Software agents:an overview. The Kno-wledge Engineering Review,1996,11(3):205～244
　［3］　Jennings N, Wooldridge M. Software agents. IEE REVIEW, 1996(1):17～20
　［4］　Paulo Sousa, Carlos Ramos. A dynamic scheduling holon for manufacturing orders. Journal of Intelligent Manufacturing,1998(9)
　［5］　Rabelo R J, Camarinha_Matos L M. Negotiation in multi_agent based dynamic scheduling. Robotics & Computer_Integrated Manufacturing, 1994,11(4)：303～309
　［6］　SMITH R G. The contract net protocal: high_level communication and control in a distributed problem solver, IEEE Transactions on Computers, 1980,C_29(12):1104～1113
　［7］　Saad A, Kawamura K, Biswas G, et al. Evaluating a contract net_based heterarchical scheduling approach for flexible manufacturing. IEEE,1995：147～152
